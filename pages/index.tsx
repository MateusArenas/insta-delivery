import type { NextPage } from 'next'
import Head from 'next/head'
import Image from 'next/image'
import HeaderDesktopOnly from '../components/HeaderDesktopOnly'
import styles from '../styles/Home.module.css'
import { MdMoreHoriz, MdExpandMore } from 'react-icons/md';

import { Offcanvas, CloseButton, Navbar, Nav, Container } from 'react-bootstrap';

import React from 'react'
import Post from './post/[id]'
import BagContext from '../contexts/bag'
import api from '../services/api'

import Link from 'next/link'
import { useRouter } from 'next/router'

const Home: NextPage = () => {
  const router = useRouter()

  React.useEffect(() => {
    api.get('/fruit/all').then(response => {
      console.log({ response });
      
    })
  }, [])

  return (
    <div className="container g-0 g-md-3 bottom-tab-content-offset">
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>


      <Navbar style={{ zIndex: 1 }} sticky='top' bg='white' className='border-bottom d-lg-none align-items-center' expand="sm">
        <Container className='h-100 align-items-center position-relative'>

          <Link passHref href='/' replace >
            <Navbar.Brand onClick={() => {}} >
              insta-delivery
            </Navbar.Brand>
          </Link> 

            <Nav className="col">

              <Link passHref shallow
                href={{ pathname: router.pathname, query: { ...router.query, open: 'andress' } }}
                as={`/andress`}
                scroll={false}
              >
                <Nav.Link className='position-relative'
                  disabled={router.pathname === '/andress'} 
                  active={router.pathname === '/andress'}
                  // onClick={props?.onOpenModal}
                >
                  <span style={{ width: '95%', margin: 0 }} className='text-ellipsis-1'>Pr√≥ximo de Jardim Maria Eneida </span>
                  <MdExpandMore className='position-absolute end-0' style={{ top: 15 }} />
                </Nav.Link>
              </Link>              
              
            </Nav>

        </Container>
      </Navbar>

        <div className="row p-0 m-0">

          <div className="col-12 col-lg-6 p-0 px-md-4 mx-md-2 mt-4">
           {[1,2,3,4,5].map((item, index) => 
            <Post key={index} home component vertical className="mb-3" />
           )}
          </div>

          <div className="col-lg-6">

          </div>

        </div>
    </div>
  )
}

export default Home
